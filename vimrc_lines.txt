if exists('$VIMRUNNING') && ! has('gui_running')
    qall!
else
    let $VIMRUNNING = 1
endif

set expandtab
set ts=4 sw=4 
set nu rnu
set wildmenu
set path=**
set autoindent
set wildmode=list:longest
set nowrap
set hlsearch
set fillchars=eob:\ 

nnoremap <Space>h :nohl<CR>
vnoremap <Space>h :nohl<CR>

augroup Mkdir
  autocmd!
  autocmd BufWritePre * call mkdir(expand("<afile>:p:h"), "p")
augroup END

nnoremap <C-c> <Esc>
vnoremap <C-c> <Esc>
inoremap <C-c> <Esc>

nnoremap <C-f> :<C-f>cc
vnoremap <C-f> :<C-f>cc

nnoremap n nzz
vnoremap N Nzz
nnoremap <C-d> <C-d>zz
nnoremap <C-u> <C-u>zz

nnoremap <C-t> :term ++curwin<CR>
vnoremap <C-t> :term ++curwin<CR>
nnoremap <Space>g ggVG

tnoremap <C-t> <C-w>N

function! CheckBuftypeAndExecuteGFInTerminal()
    if &buftype ==# 'terminal'
        exec "normal! \<c-w>vgf\<c-w>l\<c-w>H\<c-w>l"
        echo "1"
    else
        normal! gf
        echo "2"
    endif
endfunction

nnoremap gf :call CheckBuftypeAndExecuteGFInTerminal()<CR>

vnoremap < <gv
vnoremap > >gv

nnoremap <S-UP> :split<CR>
nnoremap <S-DOWN> :split<CR><C-W><DOWN>
nnoremap <S-LEFT> :vsplit<CR>
nnoremap <S-RIGHT> :vsplit<CR><C-W><RIGHT>

inoremap <C-j> <C-n>
inoremap <C-k> <C-p>
inoremap <C-f> <C-x><C-f>
inoremap <C-g> a<BS><C-x><C-f>
